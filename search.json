[{"path":"https://psychbruce.github.io/FMAT/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Han-Wu-Shuang Bao. Author, maintainer.","code":""},{"path":"https://psychbruce.github.io/FMAT/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bao H (2023). FMAT: Fill-Mask Association Test. R package version 2023.8, https://psychbruce.github.io/FMAT/.","code":"@Manual{,   title = {FMAT: The Fill-Mask Association Test},   author = {Han-Wu-Shuang Bao},   year = {2023},   note = {R package version 2023.8},   url = {https://psychbruce.github.io/FMAT/}, }"},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"fmat-","dir":"","previous_headings":"","what":"The Fill-Mask Association Test","title":"The Fill-Mask Association Test","text":"üò∑ Fill-Mask Association Test (Êé©Á†ÅÂ°´Á©∫ËÅîÁ≥ªÊµãÈ™å). Fill-Mask Association Test (FMAT) integrative, versatile, probability-based method uses Masked Language Models (BERT) measure conceptual associations (e.g., attitudes, biases, stereotypes) propositional representations natural language. Python ‚Äútransformers‚Äù module also need installed. full list BERT-family models available Hugging Face. Use FMAT_load() function download load specific BERT models. downloaded model files saved local folder ‚ÄúC:/Users/[YourUserName]/.cache/‚Äù. Several necessary pre-processing steps designed functions easier direct use (see FMAT_run() details). BERT variants using <mask> rather [MASK] mask token, input query automatically modified users can always use [MASK] query design. BERT variants, special prefix characters \\u0120 \\u2581 automatically added match whole words (rather subwords) [MASK]. Improvements still needed. find bugs problems using functions, please report GitHub Issues send email.","code":""},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"The Fill-Mask Association Test","text":"Han-Wu-Shuang (Bruce) Bao ÂåÖÂØíÂê¥Èúú üì¨ baohws@foxmail.com üìã psychbruce.github.io","code":""},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"The Fill-Mask Association Test","text":"Bao, H.-W.-S. (2023). Fill-Mask Association Test (FMAT). R package version 2023.8. https://CRAN.R-project.org/package=FMAT Bao, H.-W.-S. (2023). Fill-Mask Association Test (FMAT): Using AI language models better understand society culture [Manuscript submitted publication].","code":""},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"The Fill-Mask Association Test","text":"Since package uses ‚Äúreticulate‚Äù package R interface ‚Äútransformers‚Äù Python module, also need install Python (Anaconda) ‚Äútransformers‚Äù module (command pip install transformers) computer.","code":"## Method 1: Install from CRAN install.packages(\"FMAT\")  ## Method 2: Install from GitHub install.packages(\"devtools\") devtools::install_github(\"psychbruce/FMAT\", force=TRUE)"},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"bert-models","dir":"","previous_headings":"","what":"BERT Models","title":"The Fill-Mask Association Test","text":"reliability validity following 12 representative BERT models established research articles, future work needed examine performance models. (model name Hugging Face - downloaded file size) bert-base-uncased (420MB) bert-base-cased (416MB) bert-large-uncased (1.25GB) bert-large-cased (1.25GB) distilbert-base-uncased (256MB) distilbert-base-cased (251MB) albert-base-v1 (45.2MB) albert-base-v2 (45.2MB) roberta-base (478MB) distilroberta-base (316MB) vinai/bertweet-base (517MB) vinai/bertweet-large (1.32GB) new BERT, please read: BERT Explained Breaking BERT Illustrated BERT Visual Guide BERT BERT Model Documentation Fill-Mask?","code":""},{"path":"https://psychbruce.github.io/FMAT/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"The Fill-Mask Association Test","text":"FMAT innovative method computational intelligent analysis psychology society, may also seek integrative toolbox text-analytic methods. Another R package developed‚ÄîPsychWordVec‚Äîone useful user-friendly package word embedding analysis (e.g., Word Embedding Association Test, WEAT). Please refer documentation feel free use .","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","title":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","text":"Initialize running environment ()load language models.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","text":"","code":"FMAT_load(models)"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_load.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","text":"models Language model names (usually BERT-based models) HuggingFace. full list available models, see https://huggingface.co/models?pipeline_tag=fill-mask&library=transformers","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_load.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","text":"named list fill-mask pipelines obtained models. returned object saved RData. need rerun function restart R session. downloaded models saved local folder \"C:/Users/[YourUserName]/.cache/\".","code":""},{"path":[]},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_load.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize running environment and (down)load language models. ‚Äî FMAT_load","text":"","code":"models = FMAT_load(c(\"bert-base-uncased\", \"bert-base-cased\")) #> Initializing environment... #> A new conda environment \"textrpp_condaenv\" will be created and  #> python required packages: torch==1.11.0, transformers==4.19.2, numpy, nltk will be installed.  Creating textrpp_condaenv conda environment for text installation... #> Installing text required python packages... #>  #> ‚úî Successfully installed Python modules in conda environment. #> Error: No valid Python or conda environment. #>  #>        You may need to specify the version of Python: #>          RStudio -> Tools -> Global/Project Options #>          -> Python -> Select -> Conda Environments #>          -> Choose \".../textrpp_condaenv/python.exe\""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","title":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","text":"Prepare data.table queries variables FMAT.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","text":"","code":"FMAT_query(   query = \"Text with [MASK], optionally with {TARGET} and/or {ATTRIB}.\",   MASK = .(),   TARGET = .(),   ATTRIB = .(),   unmask.id = 1 )"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","text":"query Query text (character string/vector least one [MASK] token). Multiple queries share set MASK, TARGET, ATTRIB. multiple queries different MASK, TARGET, /ATTRIB, please use FMAT_query_bind combine . MASK named list [MASK] target words. Must single words vocabulary certain masked language model. model vocabulary, see, e.g., https://huggingface.co/bert-base-uncased/raw/main/vocab.txt Note infrequent words may included model's vocabulary, case may insert words context specifying either TARGET ATTRIB. TARGET, ATTRIB named list Target/Attribute words phrases. specified, query must contain {TARGET} /{ATTRIB} (uppercase braces) replaced words/phrases. unmask.id multiple [MASK] query, argument used determine one unmasked. Defaults 1st [MASK].","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","text":"data.table queries variables.","code":""},{"path":[]},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare a data.table of queries and variables for the FMAT. ‚Äî FMAT_query","text":"","code":"FMAT_query(\"[MASK] is a nurse.\", MASK = .(Male=\"He\", Female=\"She\")) #>                 query   MASK M_pair M_word #> 1: [MASK] is a nurse.   Male      1     He #> 2: [MASK] is a nurse. Female      1    She  FMAT_query(   c(\"[MASK] is {TARGET}.\", \"[MASK] works as {TARGET}.\"),   MASK = .(Male=\"He\", Female=\"She\"),   TARGET = .(Occupation=cc(\"a doctor, a nurse, an artist\")) ) #>     qid                     query   MASK M_pair M_word     TARGET       T_pair #>  1:   1       [MASK] is {TARGET}.   Male      1     He Occupation Occupation.1 #>  2:   1       [MASK] is {TARGET}. Female      1    She Occupation Occupation.1 #>  3:   1       [MASK] is {TARGET}.   Male      1     He Occupation Occupation.2 #>  4:   1       [MASK] is {TARGET}. Female      1    She Occupation Occupation.2 #>  5:   1       [MASK] is {TARGET}.   Male      1     He Occupation Occupation.3 #>  6:   1       [MASK] is {TARGET}. Female      1    She Occupation Occupation.3 #>  7:   2 [MASK] works as {TARGET}.   Male      1     He Occupation Occupation.1 #>  8:   2 [MASK] works as {TARGET}. Female      1    She Occupation Occupation.1 #>  9:   2 [MASK] works as {TARGET}.   Male      1     He Occupation Occupation.2 #> 10:   2 [MASK] works as {TARGET}. Female      1    She Occupation Occupation.2 #> 11:   2 [MASK] works as {TARGET}.   Male      1     He Occupation Occupation.3 #> 12:   2 [MASK] works as {TARGET}. Female      1    She Occupation Occupation.3 #>        T_word #>  1:  a doctor #>  2:  a doctor #>  3:   a nurse #>  4:   a nurse #>  5: an artist #>  6: an artist #>  7:  a doctor #>  8:  a doctor #>  9:   a nurse #> 10:   a nurse #> 11: an artist #> 12: an artist  FMAT_query(   \"The [MASK] {ATTRIB}.\",   MASK = .(Male=cc(\"man, boy\"),            Female=cc(\"woman, girl\")),   ATTRIB = .(Masc=cc(\"is masculine, has a masculine personality\"),              Femi=cc(\"is feminine, has a feminine personality\")) ) #>                    query   MASK M_pair M_word ATTRIB      A_pair #>  1: The [MASK] {ATTRIB}.   Male      1    man   Masc Masc-Femi.1 #>  2: The [MASK] {ATTRIB}.   Male      2    boy   Masc Masc-Femi.1 #>  3: The [MASK] {ATTRIB}. Female      1  woman   Masc Masc-Femi.1 #>  4: The [MASK] {ATTRIB}. Female      2   girl   Masc Masc-Femi.1 #>  5: The [MASK] {ATTRIB}.   Male      1    man   Masc Masc-Femi.2 #>  6: The [MASK] {ATTRIB}.   Male      2    boy   Masc Masc-Femi.2 #>  7: The [MASK] {ATTRIB}. Female      1  woman   Masc Masc-Femi.2 #>  8: The [MASK] {ATTRIB}. Female      2   girl   Masc Masc-Femi.2 #>  9: The [MASK] {ATTRIB}.   Male      1    man   Femi Masc-Femi.1 #> 10: The [MASK] {ATTRIB}.   Male      2    boy   Femi Masc-Femi.1 #> 11: The [MASK] {ATTRIB}. Female      1  woman   Femi Masc-Femi.1 #> 12: The [MASK] {ATTRIB}. Female      2   girl   Femi Masc-Femi.1 #> 13: The [MASK] {ATTRIB}.   Male      1    man   Femi Masc-Femi.2 #> 14: The [MASK] {ATTRIB}.   Male      2    boy   Femi Masc-Femi.2 #> 15: The [MASK] {ATTRIB}. Female      1  woman   Femi Masc-Femi.2 #> 16: The [MASK] {ATTRIB}. Female      2   girl   Femi Masc-Femi.2 #>                          A_word #>  1:                is masculine #>  2:                is masculine #>  3:                is masculine #>  4:                is masculine #>  5: has a masculine personality #>  6: has a masculine personality #>  7: has a masculine personality #>  8: has a masculine personality #>  9:                 is feminine #> 10:                 is feminine #> 11:                 is feminine #> 12:                 is feminine #> 13:  has a feminine personality #> 14:  has a feminine personality #> 15:  has a feminine personality #> 16:  has a feminine personality  FMAT_query(   \"The association between {TARGET} and {ATTRIB} is [MASK].\",   MASK = .(H=\"strong\", L=\"weak\"),   TARGET = .(Flower=cc(\"rose, iris, lily\"),              Insect=cc(\"ant, cockroach, spider\")),   ATTRIB = .(Pos=cc(\"health, happiness, love, peace\"),              Neg=cc(\"death, sickness, hatred, disaster\")) ) #>                                                        query MASK M_pair M_word #>  1: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #>  2: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #>  3: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #>  4: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #>  5: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #>  6: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #>  7: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #>  8: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #>  9: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 10: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 11: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 12: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 13: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 14: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 15: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 16: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 17: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 18: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 19: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 20: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 21: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 22: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 23: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 24: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 25: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 26: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 27: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 28: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 29: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 30: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 31: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 32: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 33: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 34: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 35: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 36: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 37: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 38: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 39: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 40: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 41: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 42: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 43: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 44: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 45: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 46: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 47: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 48: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 49: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 50: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 51: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 52: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 53: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 54: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 55: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 56: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 57: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 58: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 59: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 60: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 61: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 62: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 63: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 64: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 65: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 66: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 67: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 68: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 69: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 70: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 71: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 72: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 73: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 74: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 75: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 76: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 77: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 78: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 79: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 80: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 81: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 82: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 83: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 84: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 85: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 86: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 87: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 88: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 89: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 90: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 91: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 92: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 93: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 94: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #> 95: The association between {TARGET} and {ATTRIB} is [MASK].    H      1 strong #> 96: The association between {TARGET} and {ATTRIB} is [MASK].    L      1   weak #>                                                        query MASK M_pair M_word #>     TARGET    T_word ATTRIB    A_word #>  1: Flower      rose    Pos    health #>  2: Flower      rose    Pos    health #>  3: Flower      iris    Pos    health #>  4: Flower      iris    Pos    health #>  5: Flower      lily    Pos    health #>  6: Flower      lily    Pos    health #>  7: Flower      rose    Pos happiness #>  8: Flower      rose    Pos happiness #>  9: Flower      iris    Pos happiness #> 10: Flower      iris    Pos happiness #> 11: Flower      lily    Pos happiness #> 12: Flower      lily    Pos happiness #> 13: Flower      rose    Pos      love #> 14: Flower      rose    Pos      love #> 15: Flower      iris    Pos      love #> 16: Flower      iris    Pos      love #> 17: Flower      lily    Pos      love #> 18: Flower      lily    Pos      love #> 19: Flower      rose    Pos     peace #> 20: Flower      rose    Pos     peace #> 21: Flower      iris    Pos     peace #> 22: Flower      iris    Pos     peace #> 23: Flower      lily    Pos     peace #> 24: Flower      lily    Pos     peace #> 25: Flower      rose    Neg     death #> 26: Flower      rose    Neg     death #> 27: Flower      iris    Neg     death #> 28: Flower      iris    Neg     death #> 29: Flower      lily    Neg     death #> 30: Flower      lily    Neg     death #> 31: Flower      rose    Neg  sickness #> 32: Flower      rose    Neg  sickness #> 33: Flower      iris    Neg  sickness #> 34: Flower      iris    Neg  sickness #> 35: Flower      lily    Neg  sickness #> 36: Flower      lily    Neg  sickness #> 37: Flower      rose    Neg    hatred #> 38: Flower      rose    Neg    hatred #> 39: Flower      iris    Neg    hatred #> 40: Flower      iris    Neg    hatred #> 41: Flower      lily    Neg    hatred #> 42: Flower      lily    Neg    hatred #> 43: Flower      rose    Neg  disaster #> 44: Flower      rose    Neg  disaster #> 45: Flower      iris    Neg  disaster #> 46: Flower      iris    Neg  disaster #> 47: Flower      lily    Neg  disaster #> 48: Flower      lily    Neg  disaster #> 49: Insect       ant    Pos    health #> 50: Insect       ant    Pos    health #> 51: Insect cockroach    Pos    health #> 52: Insect cockroach    Pos    health #> 53: Insect    spider    Pos    health #> 54: Insect    spider    Pos    health #> 55: Insect       ant    Pos happiness #> 56: Insect       ant    Pos happiness #> 57: Insect cockroach    Pos happiness #> 58: Insect cockroach    Pos happiness #> 59: Insect    spider    Pos happiness #> 60: Insect    spider    Pos happiness #> 61: Insect       ant    Pos      love #> 62: Insect       ant    Pos      love #> 63: Insect cockroach    Pos      love #> 64: Insect cockroach    Pos      love #> 65: Insect    spider    Pos      love #> 66: Insect    spider    Pos      love #> 67: Insect       ant    Pos     peace #> 68: Insect       ant    Pos     peace #> 69: Insect cockroach    Pos     peace #> 70: Insect cockroach    Pos     peace #> 71: Insect    spider    Pos     peace #> 72: Insect    spider    Pos     peace #> 73: Insect       ant    Neg     death #> 74: Insect       ant    Neg     death #> 75: Insect cockroach    Neg     death #> 76: Insect cockroach    Neg     death #> 77: Insect    spider    Neg     death #> 78: Insect    spider    Neg     death #> 79: Insect       ant    Neg  sickness #> 80: Insect       ant    Neg  sickness #> 81: Insect cockroach    Neg  sickness #> 82: Insect cockroach    Neg  sickness #> 83: Insect    spider    Neg  sickness #> 84: Insect    spider    Neg  sickness #> 85: Insect       ant    Neg    hatred #> 86: Insect       ant    Neg    hatred #> 87: Insect cockroach    Neg    hatred #> 88: Insect cockroach    Neg    hatred #> 89: Insect    spider    Neg    hatred #> 90: Insect    spider    Neg    hatred #> 91: Insect       ant    Neg  disaster #> 92: Insect       ant    Neg  disaster #> 93: Insect cockroach    Neg  disaster #> 94: Insect cockroach    Neg  disaster #> 95: Insect    spider    Neg  disaster #> 96: Insect    spider    Neg  disaster #>     TARGET    T_word ATTRIB    A_word"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query_bind.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","title":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","text":"Combine multiple query data.tables renumber query ids.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query_bind.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","text":"","code":"FMAT_query_bind(...)"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query_bind.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","text":"... Query data.tables returned FMAT_query.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query_bind.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","text":"data.table queries variables.","code":""},{"path":[]},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_query_bind.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine multiple query data.tables and renumber query ids. ‚Äî FMAT_query_bind","text":"","code":"FMAT_query_bind(   FMAT_query(     \"[MASK] is {TARGET}.\",     MASK = .(Male=\"He\", Female=\"She\"),     TARGET = .(Occupation=cc(\"a doctor, a nurse, an artist\"))   ),   FMAT_query(     \"[MASK] occupation is {TARGET}.\",     MASK = .(Male=\"His\", Female=\"Her\"),     TARGET = .(Occupation=cc(\"doctor, nurse, artist\"))   ) ) #>     qid                          query   MASK M_pair M_word     TARGET #>  1:   1            [MASK] is {TARGET}.   Male      1     He Occupation #>  2:   1            [MASK] is {TARGET}. Female      1    She Occupation #>  3:   1            [MASK] is {TARGET}.   Male      1     He Occupation #>  4:   1            [MASK] is {TARGET}. Female      1    She Occupation #>  5:   1            [MASK] is {TARGET}.   Male      1     He Occupation #>  6:   1            [MASK] is {TARGET}. Female      1    She Occupation #>  7:   2 [MASK] occupation is {TARGET}.   Male      1    His Occupation #>  8:   2 [MASK] occupation is {TARGET}. Female      1    Her Occupation #>  9:   2 [MASK] occupation is {TARGET}.   Male      1    His Occupation #> 10:   2 [MASK] occupation is {TARGET}. Female      1    Her Occupation #> 11:   2 [MASK] occupation is {TARGET}.   Male      1    His Occupation #> 12:   2 [MASK] occupation is {TARGET}. Female      1    Her Occupation #>           T_pair    T_word #>  1: Occupation.1  a doctor #>  2: Occupation.1  a doctor #>  3: Occupation.2   a nurse #>  4: Occupation.2   a nurse #>  5: Occupation.3 an artist #>  6: Occupation.3 an artist #>  7: Occupation.1    doctor #>  8: Occupation.1    doctor #>  9: Occupation.2     nurse #> 10: Occupation.2     nurse #> 11: Occupation.3    artist #> 12: Occupation.3    artist"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"Run fill-mask pipeline multiple models.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"","code":"FMAT_run(   models,   data,   file = NULL,   progress = c(FALSE, TRUE, \"none\", \"text\", \"time\"),   parallel = FALSE,   ncores = 4,   warning = TRUE )"},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"models Language model(s): Model names (usually BERT-based models)    HuggingFace. list mask filling pipelines loaded FMAT_load.   * need rerun FMAT_load    restart R session. data data.table returned FMAT_query FMAT_query_bind. file File name .RData save returned data. progress Show progress bar: \"none\" (FALSE), \"text\" (TRUE), \"time\". parallel Parallel processing (suggested). Defaults FALSE. TRUE, models must model names rather FMAT_load. * small-scale data, parallel processing instead slower takes time create parallel cluster. ncores Number CPU cores used parallel processing. warning Warning --vocabulary word(s). Defaults TRUE.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"data.table (new class fmat) appending data new variables: model: model name. output: complete sentence output unmasked token. token: actual token filled blank mask   (note \"--vocabulary\" added   original word found model vocabulary). prob: (raw) conditional probability unmasked token   given provided context, estimated masked language model.  * SUGGESTED directly interpret raw probabilities   contrast pair probabilities   interpretable. See summary.fmat.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"function also automatically adjust compatibility tokens used certain models: (1) uncased models (e.g., ALBERT), turns tokens lowercase; (2) models use <mask> rather [MASK], automatically uses corrected mask token; (3) models require prefix estimate whole words subwords (e.g., ALBERT, RoBERTa), adds certain prefix (usually white space; \\u2581 ALBERT XLM-RoBERTa, \\u0120 RoBERTa DistilRoBERTa). Note changes affect token variable returned data, affect M_word variable.z Thus, users may analyze data based unchanged M_word rather token.","code":""},{"path":[]},{"path":"https://psychbruce.github.io/FMAT/reference/FMAT_run.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the fill-mask pipeline on multiple models. ‚Äî FMAT_run","text":"","code":"# Running the example requires the models downloaded # You will need to rerun `FMAT_load` if you restart the R session  models = FMAT_load(c(\"bert-base-uncased\", \"bert-base-cased\")) #> Initializing environment... #> Using existing conda environment  textrpp_condaenv  for text installation #> .  #> text: torch==1.11.0, transformers==4.19.2, numpy, nltk will be installed.  Installing text required python packages... #>  #> ‚úî Successfully installed Python modules in conda environment. #> Error: No valid Python or conda environment. #>  #>        You may need to specify the version of Python: #>          RStudio -> Tools -> Global/Project Options #>          -> Python -> Select -> Conda Environments #>          -> Choose \".../textrpp_condaenv/python.exe\"  query1 = FMAT_query(   c(\"[MASK] is {TARGET}.\", \"[MASK] works as {TARGET}.\"),   MASK = .(Male=\"He\", Female=\"She\"),   TARGET = .(Occupation=cc(\"a doctor, a nurse, an artist\")) ) data1 = FMAT_run(models, query1) #> Error in eval(expr, envir, enclos): object 'models' not found summary(data1, target.pair=FALSE) #> Error in eval(expr, envir, enclos): object 'data1' not found  query2 = FMAT_query(   \"The [MASK] {ATTRIB}.\",   MASK = .(Male=cc(\"man, boy\"),            Female=cc(\"woman, girl\")),   ATTRIB = .(Masc=cc(\"is masculine, has a masculine personality\"),              Femi=cc(\"is feminine, has a feminine personality\")) ) data2 = FMAT_run(models, query2) #> Error in eval(expr, envir, enclos): object 'models' not found summary(data2, mask.pair=FALSE) #> Error in eval(expr, envir, enclos): object 'data2' not found summary(data2) #> Error in eval(expr, envir, enclos): object 'data2' not found  query3 = FMAT_query(   \"The association between {TARGET} and {ATTRIB} is [MASK].\",   MASK = .(H=\"strong\", L=\"weak\"),   TARGET = .(Flower=cc(\"rose, iris, lily\"),              Insect=cc(\"ant, cockroach, spider\")),   ATTRIB = .(Pos=cc(\"health, happiness, love, peace\"),              Neg=cc(\"death, sickness, hatred, disaster\")) ) data3 = FMAT_run(models, query3) #> Error in eval(expr, envir, enclos): object 'models' not found summary(data3, attrib.pair=FALSE) #> Error in eval(expr, envir, enclos): object 'data3' not found summary(data3) #> Error in eval(expr, envir, enclos): object 'data3' not found"},{"path":"https://psychbruce.github.io/FMAT/reference/LPR_reliability.html","id":null,"dir":"Reference","previous_headings":"","what":"Reliability analysis (Cronbach's \\(\\alpha\\)) of LPR. ‚Äî LPR_reliability","title":"Reliability analysis (Cronbach's \\(\\alpha\\)) of LPR. ‚Äî LPR_reliability","text":"Reliability analysis (Cronbach's \\(\\alpha\\)) LPR.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/LPR_reliability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reliability analysis (Cronbach's \\(\\alpha\\)) of LPR. ‚Äî LPR_reliability","text":"","code":"LPR_reliability(fmat, item = c(\"query\", \"T_word\", \"A_word\"), by = NULL)"},{"path":"https://psychbruce.github.io/FMAT/reference/LPR_reliability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reliability analysis (Cronbach's \\(\\alpha\\)) of LPR. ‚Äî LPR_reliability","text":"fmat data.table returned summary.fmat. item Reliability multiple \"query\" (default), \"T_word\", \"A_word\". Variable(s) split data . Options can \"model\", \"TARGET\", \"ATTRIB\", combination .","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/LPR_reliability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reliability analysis (Cronbach's \\(\\alpha\\)) of LPR. ‚Äî LPR_reliability","text":"data.table Cronbach's \\(\\alpha\\).","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/dot-.html","id":null,"dir":"Reference","previous_headings":"","what":"A simple function equivalent to list. ‚Äî .","title":"A simple function equivalent to list. ‚Äî .","text":"simple function equivalent list.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/dot-.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A simple function equivalent to list. ‚Äî .","text":"","code":".(...)"},{"path":"https://psychbruce.github.io/FMAT/reference/dot-.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A simple function equivalent to list. ‚Äî .","text":"... Named objects (usually character vectors package).","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/dot-.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A simple function equivalent to list. ‚Äî .","text":"list named objects.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/dot-.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A simple function equivalent to list. ‚Äî .","text":"","code":".(Male=cc(\"he, his\"), Female=cc(\"she, her\")) #> $Male #> [1] \"he\"  \"his\" #>  #> $Female #> [1] \"she\" \"her\" #>  list(Male=cc(\"he, his\"), Female=cc(\"she, her\"))  # the same #> $Male #> [1] \"he\"  \"his\" #>  #> $Female #> [1] \"she\" \"her\" #>"},{"path":"https://psychbruce.github.io/FMAT/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages ‚Äî reexports","title":"Objects exported from other packages ‚Äî reexports","text":"objects imported packages. Follow links see documentation. PsychWordVec cc","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/summary.fmat.html","id":null,"dir":"Reference","previous_headings":"","what":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","title":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","text":"Summarize results Log Probability Ratio (LPR), indicates relative (vs. absolute) association concepts. LPR just one contrast (e.g., pair attributes) may sufficient proper interpretation results, may require second contrast (e.g., pair targets). Users suggested use linear mixed models (R packages nlme lme4/lmerTest) perform formal analyses hypothesis tests based LPR.","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/summary.fmat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","text":"","code":"# S3 method for fmat summary(   object,   mask.pair = TRUE,   target.pair = TRUE,   attrib.pair = TRUE,   warning = TRUE,   ... )"},{"path":"https://psychbruce.github.io/FMAT/reference/summary.fmat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","text":"object data.table (new class fmat) returned FMAT_run. mask.pair, target.pair, attrib.pair Pairwise contrast [MASK], TARGET, ATTRIB? Defaults TRUE. warning Warning --vocabulary word(s). Defaults TRUE. ... arguments (currently used).","code":""},{"path":"https://psychbruce.github.io/FMAT/reference/summary.fmat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","text":"data.table summarized results Log Probability Ratio (LPR).","code":""},{"path":[]},{"path":"https://psychbruce.github.io/FMAT/reference/summary.fmat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"[S3 method] Summarize the results for the FMAT. ‚Äî summary.fmat","text":"","code":"# see examples in `FMAT_run`"},{"path":"https://psychbruce.github.io/FMAT/news/index.html","id":"fmat-20238","dir":"Changelog","previous_headings":"","what":"FMAT 2023.8","title":"FMAT 2023.8","text":"CRAN package publication. Fixed bugs improved functions. Provided examples. Now use ‚ÄúYYYY.M‚Äù package version number.","code":""},{"path":"https://psychbruce.github.io/FMAT/news/index.html","id":"fmat-009-may-2023","dir":"Changelog","previous_headings":"","what":"FMAT 0.0.9 (May 2023)","title":"FMAT 0.0.9 (May 2023)","text":"Initial public release GitHub.","code":""},{"path":"https://psychbruce.github.io/FMAT/news/index.html","id":"fmat-001-jan-2023","dir":"Changelog","previous_headings":"","what":"FMAT 0.0.1 (Jan 2023)","title":"FMAT 0.0.1 (Jan 2023)","text":"Designed basic functions.","code":""}]
